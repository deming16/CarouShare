{{#> _base }}
{{#*inline "contents"}}

<div class="container">
  <div class="row">
    <h1>Admin Page - {{heading}}</h1>
    <a class="btn waves-effect waves-light red darken-1" href="/admin/item">Items</a>
    <a class="btn waves-effect waves-light red darken-1" href="/admin/listing">Listings</a>
    <a class="btn waves-effect waves-light red darken-1" href="/admin/user">Users</a>
    <a class="btn waves-effect waves-light red darken-1" href="/admin/stats">Statistics</a>
    {{#if isItemList}}
    <table>
      <thead>
        <tr>
          <th>Owner Name</th>
          <th>Item Name</th>
          <th>Category</th>
          <th>Status</th>
          <th></th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        {{#each list}}
        <tr>
          <td>{{this.owner_uid}}</td>
          <td>{{this.item_name}}</td>
          <td>{{this.category}}</td>
          <td>{{this.status}}</td>
          <td>
            <a class="waves-effect waves-light red darken-1 btn modal-trigger" href="#modal{{this.iid}}">Edit Info</a>

            <!-- Modal Structure -->
            <div id="modal{{this.iid}}" class="modal">
              <form method="POST" action="/item/{{this.iid}}" class="col s12" id="editItemForm">
                <div class="modal-content">
                  <h4>Edit Item Information</h4>
                  <div class="row">

                    <div class="row">
                      <div class="col s12">
                        <div class="input-field">
                          <input value="{{this.item_name}}" name="itemName" id="itemName" type="text" class="validate">
                          <label for="itemName">Item Name</label>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col s12">
                        <div class="input-field">
                          <input value="{{this.category}}" name="category" id="category" type="text" class="validate">
                          <label for="category">Category</label>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col s12">
                        <div class="input-field">
                          <input value="{{this.status}}" name="status" id="status" type="text" class="validate">
                          <label for="status">Status</label>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col s12">
                        <div class="input-field">
                          <input value="{{this.photo}}" name="photo" id="photo" type="text" class="validate">
                          <label for="photo">Photo</label>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <form class="col s12">
                        <div class="row">
                          <div class="input-field col s12">
                            <textarea name="desc" id="desc" class="materialize-textarea">{{this.description}}</textarea>
                            <label for="desc">Description</label>
                          </div>
                        </div>
                      </form>
                    </div>

                  </div>
                </div>
                <div class="modal-footer">
                  <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Cancel</a>
                  <button type="submit" form="editItemForm" class="modal-close waves-effect waves-green btn-flat">Save
                    Changes</button>
                </div>
              </form>
            </div>
          </td>
          <td>
            <form method="POST" action="/item/{{this.iid}}/delete">
              <button class="btn-floating btn-small waves-effect waves-light red"><i
                  class="material-icons">remove</i></button>
            </form>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{/if}}

    {{#if isListingList}}
    <table>
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Title</th>
          <th>Status</th>
          <th>Delivery Method</th>
          <th>Min Bid</th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        {{#each list}}
        <tr>
          <td>{{this.item_iid}}</td>
          <td>{{this.title}}</td>
          <td>{{this.status}}</td>
          <td>{{this.delivery_method}}</td>
          <td>${{this.min_bid}}</td>
          <td>
            <form method="POST" action="/listing/{{this.lid}}/delete">
              <button class="btn-floating btn-small waves-effect waves-light red"><i
                  class="material-icons">remove</i></button>
            </form>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{/if}}

    {{#if isUserList}}
    <table>
      <thead>
        <tr>
          <th>Username</th>
          <th>Email</th>
          <th>Address</th>
          <th>Mobile</th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        {{#each list}}
        <tr>
          <td>{{this.uid}}</td>
          <td>{{this.email}}</td>
          <td>{{this.address}}</td>
          <td>{{this.mobile}}</td>
          <td>
            <form method="POST" action="/user/{{this.uid}}/delete">
              <button class="btn-floating btn-small waves-effect waves-light red"><i
                  class="material-icons">remove</i></button>
            </form>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
    {{/if}}

    {{#if statistics}}
    <div class="row">
      <div class="col s12">
        <canvas id="bar-chart" width="400" height="400"></canvas>
      </div>
    </div>

    <div class="row">
      <div class="col s6">
        <canvas id="categoryChart" width="400" height="400"></canvas>
      </div>
      <div class="col s6">
        <canvas id="line-chart" width="400" height="400"></canvas>
      </div>
    </div>

    <div class="row">
      <div class="col s6">
        <canvas id="line-chart2" width="400" height="400"></canvas>
      </div>
      <div class="col s6">
        <canvas id="line-chart3" width="400" height="400"></canvas>
      </div>
    </div>
    {{/if}}

  </div>
</div>

{{/inline}}
{{/_base}}